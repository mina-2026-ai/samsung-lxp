<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="stylesheet" href="../btn-style.css">
    <meta charset="UTF-8">
    <title>채점 상세 모달</title>
    <style>
        .grading-modal-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.35);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .grading-modal {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 24px 0 rgba(0,0,0,0.13);
            width: 90%;
            max-width: 98vw;
            min-height: 540px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }
        .grading-modal-half {
            flex: 1;
            padding: 32px 28px;
            overflow-y: auto;
            min-width: 0;
        }
        .grading-modal-divider {
            width: 1.5px;
            background: #e0e4ea;
            height: 100%;
        }
        .grading-modal-title {
            font-size: 18px;
            font-weight: 700;
            color: #1976D2;
            margin-bottom: 18px;
        }
        .grading-modal-close {
            position: absolute;
            top: 18px;
            right: 24px;
            font-size: 22px;
            color: #888;
            background: none;
            border: none;
            cursor: pointer;
            z-index: 10;
        }

        .grading-container {
            display: flex;
            gap: 16px;
            /* flex-direction: column; */
        }
    </style>
</head>
<body>
    <div class="grading-modal-overlay" id="gradingModalOverlay">
        <div class="grading-modal">
            <button class="grading-modal-close" id="gradingModalCloseBtn" title="닫기">×</button>
            <div class="grading-container">

                <div class="grading-modal-half">
                    <div class="grading-modal-title">문제</div>
                    <!-- 문제설명 -->
                    <div>
                        아래 코드의 출력 결과를 쓰시오.<br>
                        <pre style="background:#f5f7fa;padding:12px 14px;border-radius:8px;">for(let i=1;i<=3;i++){
                            setTimeout(()=>console.log(i),0);
                        }</pre>
                    </div>
                    <!-- 문제정답 -->
                    
                </div>
                <div class="grading-modal-divider"></div>
                <div class="grading-modal-half">
                    <div class="grading-modal-title">모범 답안</div>
                    <div style="background:#f8f9fa;padding:16px 14px;border-radius:8px;min-height:120px;">
                        4<br>4<br>4
                    </div>
                    <div class="grading-modal-title">학생 답안</div>
                    <div style="background:#f8f9fa;padding:16px 14px;border-radius:8px;min-height:120px;">
                        4<br>4<br>4
                    </div>
                </div>
            </div>
            <div style="background:#fff; border-radius:12px; border:1.5px solid #e0e4ea; box-shadow:0 2px 8px 0 rgba(0,0,0,0.03); padding:28px 24px 20px 24px;">
                <div style="display:flex; gap:24px; align-items:center; margin-bottom:18px;">
                    <div style="font-size:15px; color:#1976D2; font-weight:600;">문제 배점</div>
                    <div style="font-size:15px; color:#333;">20점</div>
                    <div style="font-size:15px; color:#1976D2; font-weight:600; margin-left:32px;">통과점수</div>
                    <div style="font-size:15px; color:#333;">14점</div>
                    <div style="font-size:15px; color:#1976D2; font-weight:600; margin-left:32px;">입력점수</div>
                    <input type="number" min="0" max="20" value="0" style="width:60px; font-size:15px; padding:4px 8px; border-radius:6px; border:1px solid #e0e4ea;">
                </div>
                <div style="margin-bottom:14px;">
                    <div style="font-size:14px; color:#1976D2; font-weight:600; margin-bottom:6px;">피드백 (학생에게 공개)</div>
                    <textarea style="width:100%; min-height:48px; border-radius:8px; border:1px solid #e0e4ea; padding:12px 14px; font-size:14px; color:#333; resize:vertical; background:#f8f9fa;"></textarea>
                </div>
                <div>
                    <div style="font-size:14px; color:#1976D2; font-weight:600; margin-bottom:6px;">내부 메모 (관리자/강사용)</div>
                    <textarea style="width:100%; min-height:48px; border-radius:8px; border:1px solid #e0e4ea; padding:12px 14px; font-size:14px; color:#333; resize:vertical; background:#f8f9fa;"></textarea>
                </div>
            </div>
            <button class="btn btn-secondary">저장하기</button>
        </div>
    </div>
    <script>
        // 닫기 버튼 및 오버레이 클릭 시 창 닫기, 저장하기 버튼 이벤트
        document.addEventListener('DOMContentLoaded', function() {
            const overlay = document.getElementById('gradingModalOverlay');
            const closeBtn = document.getElementById('gradingModalCloseBtn');
            const saveBtn = document.querySelector('.btn.btn-secondary');
            closeBtn.addEventListener('click', function() {
                window.close();
            });
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) window.close();
            });
            if (saveBtn) {
                saveBtn.addEventListener('click', function() {
                    if (window.opener) {
                    window.opener.location.reload();
                    }
                    window.close();                
                });
            }
        });
    </script>
</body>
</html>
