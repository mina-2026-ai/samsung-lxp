<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../common-style.css">
    <link rel="stylesheet" href="../sidebar-style.css">
    <link rel="stylesheet" href="../btn-style.css">
    <script src="../sidebar-function.js" defer></script>
    <script src="../common-funtion.js" defer></script>
    <title>Samsung Academy LXP - ê´€ë¦¬ì</title>
    <style>
        /* ì¶”ê°€ì ì¸ í˜ì´ì§€ë³„ ìŠ¤íƒ€ì¼ì€ ì—¬ê¸°ì— ì‘ì„± */
    </style>
</head>
<body>
    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="header">
        <h1>í‰ê°€ ê´€ë¦¬ > ì‹œí—˜ ê´€ë¦¬ > ì‹œí—˜ ë°°ì •</h1>
        <!-- icon -->
        <div class="icon-container">
            <div class="icon-box"><img src="/icons/bell.svg" alt="alert icon" style="width: 28px;"></div>
            <div class="icon-box" onClick="location.href='../admin-00-topmenu/admin-topmenu-user.html'"><img src="/icons/user.svg" alt="user icon" style="width: 30px;"></div>
            <div class="icon-box"><img src="/icons/setting.svg" alt="setting icon" style="width: 25px;"></div>
        </div>
    </header>

    <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” -->
    <aside class="sidebar">
        <!-- ì‚¬ì´ë“œë°” ë©”ë‰´ ë‚´ìš© -->

        <!-- logo-box -->
        <div class="logo-box">
            <img id="sidebarLogo" src="/logo-white.png" alt="logo" style="width: 130px;">
        </div>

        <!-- menu -->
        <nav class="menu">
            <ul>
                <li data-page="../admin-01-dashboard/admin-dashboard.html" onclick="handleMenuClick(this, '../admin-01-dashboard/admin-dashboard.html')">
                    <img src="../icons/01-dashboard.svg" alt="dashboard icon" style="width: 26px; margin-left:-2px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">í˜„í™©(ëŒ€ì‹œë³´ë“œ)</span>
                </li>
                <li data-page="../admin-02-user/admin-user-trainee.html" onclick="handleMenuClick(this, '../admin-02-user/admin-user-trainee.html')">
                    <img src="../icons/02-user.svg" alt="user icon" style="width: 28px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ì‚¬ìš©ì ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-02-user/admin-user-trainee.html'">í›ˆë ¨ìƒ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-02-user/admin-user-instructor.html'">ê°•ì‚¬ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-02-user/admin-user.html'">ê´€ë¦¬ì ê´€ë¦¬</li>
                    </ul>
                </li>
                <li data-page="../admin-03-courses/admin-course-edu.html" onclick="handleMenuClick(this, '../admin-03-courses/admin-courses-edu.html')">
                    <img src="../icons/03-course.svg" alt="course icon" style="width: 25px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ê³¼ì •/ìš´ì˜ ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-03-courses/admin-courses-edu.html'">ê³¼ì • ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-03-courses/admin-courses-schedule.html'">ì¼ì • ê´€ë¦¬</li>
                    </ul>
                </li>
                <li data-page="../admin-04-evaluation/admin-evaluation-assignment.html" onclick="handleMenuClick(this, '../admin-04-evaluation/admin-evaluation-assignment.html')">
                    <img src="../icons/04-evaluation.svg" alt="evaluation icon" style="width: 30px; margin-left:-4px; margin-right: 7px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text active_menu">í‰ê°€ ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-04-evaluation/admin-evaluation-question-bank.html'">ë¬¸ì œ ì€í–‰</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-04-evaluation/admin-evaluation-assignment.html'">ê³¼ì œ ê´€ë¦¬</li>
                        <li class="submenu active_menu" onclick="event.stopPropagation(); location.href='../admin-04-evaluation/admin-evaluation-test.html'">ì‹œí—˜ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-04-evaluation/admin-evaluation-result.html'">ì±„ì  ë° ê²°ê³¼ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-04-evaluation/admin-evaluation-monitoring.html'">í‰ê°€ ëª¨ë‹ˆí„°ë§</li>
                    </ul>
                </li>
                <li data-page="../admin-05-attendance/admin-attendance.html" onclick="handleMenuClick(this, '../admin-05-attendance/admin-attendance.html')">
                    <img src="../icons/05-attendance.svg" alt="attendance icon" style="width: 28px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ì¶œê²°/ì´ìˆ˜ ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-05-attendance/admin-attendance.html'">ì¶œê²°í˜„í™©</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-05-attendance/admin-attendance-graduate.html'">ì´ìˆ˜ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-05-attendance/admin-attendance-survey.html'">ì„¤ë¬¸ì¡°ì‚¬ ê´€ë¦¬</li>
                    </ul>
                </li>
                <li data-page="../admin-06-support/admin-support-tutoring.html" onclick="handleMenuClick(this, '../admin-06-support/admin-support-tutoring.html')">
                    <img src="../icons/06-support.svg" alt="support icon" style="width: 25px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">í•™ìŠµ ì§€ì›</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-06-support/admin-support-tutoring.html'">íŠœí„°ë§/QnA</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-06-support/admin-support-response.html'">ì‘ë‹µí˜„í™©</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-06-support/admin-support-chat-monitoring.html'">ì±„íŒ… ëª¨ë‹ˆí„°ë§</li>
                    </ul>
                </li>
                <li data-page="../admin-07-notice/admin-notice.html" onclick="handleMenuClick(this, '../admin-07-notice/admin-notice.html')" class="white-icon">
                    <img src="../icons/bell.svg" alt="notice icon" style="width: 26px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ê³µì§€/ì•Œë¦¼</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-07-notice/admin-notice.html'">ê³µì§€ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-07-notice/admin-notice-alarm.html'">ì•Œë¦¼ ê´€ë¦¬</li>
                    </ul>
                </li>
            </ul>
        </nav>
        <span class="logout" onclick="location.href='../01-login/login.html'">ë¡œê·¸ì•„ì›ƒ 
            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="CurrentColor">
                <path d="M186.67-120q-27 0-46.84-19.83Q120-159.67 120-186.67v-586.66q0-27 19.83-46.84Q159.67-840 186.67-840h292.66v66.67H186.67v586.66h292.66V-120H186.67Zm470.66-176.67-47-48 102-102H360v-66.66h351l-102-102 47-48 184 184-182.67 182.66Z"/>
            </svg>
        </span>
    </aside>
    </aside>

    <!-- í† ê¸€ ë²„íŠ¼ -->
    <div class="toggle-btn" onclick="toggleSidebar()">
        â—€
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
        <!-- í›ˆë ¨ìƒ ê´€ë¦¬ -->
        <section class="main-content-inner">
            <div class="test-create-container" style="max-width:800px;background:#fff;border-radius:12px;padding:36px 32px 32px 32px;border: 1px solid var(--color-line-gray);">
                <div class="section-title" style="font-size:22px;font-weight:700;margin-bottom:18px;color:#1a1a1a;">ì‹œí—˜ ë§Œë“¤ê¸°</div>
                <form id="testForm">
                    <div style="display:flex;gap:24px;margin-bottom:18px;">
                        <div style="flex:1;display:flex;flex-direction:column;gap:6px;">
                            <label style="font-size:15px;font-weight:600;color:#333;" for="testName">ì‹œí—˜ëª…</label>
                            <input type="text" class="form-input" id="testName" name="testName" required>
                        </div>
                        <div style="flex:1;display:flex;flex-direction:column;gap:6px;">
                            <label style="font-size:15px;font-weight:600;color:#333;" for="testType">ìœ í˜•</label>
                            <select class="form-select" id="testType" name="testType">
                                <option value="ë‹¨ìœ„ì‹œí—˜">ë‹¨ìœ„ì‹œí—˜</option>
                                <option value="ì¤‘ê°„ê³ ì‚¬">ì¤‘ê°„ê³ ì‚¬</option>
                                <option value="ê¸°ë§ê³ ì‚¬">ê¸°ë§ê³ ì‚¬</option>
                            </select>
                        </div>
                    </div>
                    <div style="display:flex;gap:24px;margin-bottom:18px;">
                        <div style="flex:1;display:flex;flex-direction:column;gap:6px;">
                            <label style="font-size:15px;font-weight:600;color:#333;" for="timeLimit">ì œí•œì‹œê°„ (ë¶„)</label>
                            <input type="number" class="form-input" id="timeLimit" name="timeLimit" min="1" value="60">
                        </div>
                        <div style="flex:1;display:flex;flex-direction:column;gap:6px;">
                            <label style="font-size:15px;font-weight:600;color:#333;" for="passScore">í•©ê²©ì ìˆ˜</label>
                            <input type="number" class="form-input" id="passScore" name="passScore" min="0" max="100" value="70">
                        </div>
                        <div style="flex:1;display:flex;align-items:center;gap:8px;margin-top:28px;">
                            <input type="checkbox" id="randomOrder" name="randomOrder" checked>
                            <label for="randomOrder" style="font-size:15px;">ëœë¤ì¶œì œ ì‚¬ìš©</label>
                        </div>
                    </div>
                    <!-- ìˆ˜ë™ ë¬¸ì œ ì¶”ê°€ ì˜ì—­ (ëœë¤ì¶œì œ ë¯¸ì‚¬ìš© ì‹œ í‘œì‹œ) -->
                    <div style="border-top:1.5px solid #e0e0e0;margin:32px 0 24px 0;"></div>
                    <!-- ì‹œí—˜ êµ¬ì„±(ìˆ˜ë™ ë¬¸ì œ ì¶”ê°€) ì˜ì—­ -->
                    <div id="manualQuestionArea" style="margin-bottom:24px;">
                        <div style="display:flex;align-items:center;gap:16px; margin-bottom:10px;">
                            <span style="font-size:16px;font-weight:600;">ì‹œí—˜ êµ¬ì„±</span>
                            <button type="button" class="btn btn-add" id="addManualQuestionBtn">ë¬¸ì œ ì¶”ê°€</button>
                        </div>
                        <div id="manualQuestionList">
                            <!-- ìˆ˜ë™ ì¶”ê°€ëœ ë¬¸ì œ ë¦¬ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤. -->
                        </div>
                    </div>
                    <div id="manualQuestionArea" style="display:none; margin-bottom:24px;">
                        <div style="display:flex;align-items:center;gap:16px; margin-bottom:10px;">
                            <span style="font-size:16px;font-weight:600;">ìˆ˜ë™ ë¬¸ì œ ì¶”ê°€</span>
                            <button type="button" class="btn btn-add" id="addManualQuestionBtn">ë¬¸ì œ ì¶”ê°€</button>
                        </div>
                        <div id="manualQuestionList">
                            <!-- ìˆ˜ë™ ì¶”ê°€ëœ ë¬¸ì œ ë¦¬ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤. -->
                        </div>
                    </div>
                    <div id="ruleSection">
                        <div class="section-title" style="font-size:18px;margin-bottom:10px;">ğŸ“š ë¬¸ì œ ì¶œì œ ê·œì¹™</div>
                        <div class="rule-list" id="ruleList" style="margin-bottom:12px;"></div>
                        <button type="button" class="btn btn-add" id="addRuleBtn">â• ê·œì¹™ ì¶”ê°€</button>
                    </div>
                    <div style="border-top:1.5px solid #e0e0e0;margin:32px 0 24px 0;"></div>
                    <div style="display:flex;align-items:center;gap:18px;font-size:16px;margin-bottom:8px;">
                        <span>ğŸ‘‰ í˜„ì¬ ì´ ë¬¸í•­ ìˆ˜: <span id="currentCount">10</span> / <span id="maxCount">20</span></span>
                        <span style="color:#e67e22;font-size:15px;">âš  Loop/for Hard ë¬¸ì œ ë¶€ì¡± (2ê°œë§Œ ì¡´ì¬)</span>
                    </div>
                    <div style="border-top:1.5px solid #e0e0e0;margin:32px 0 24px 0;"></div>
                    <div style="margin-bottom:18px;">
                        <div style="display:flex;align-items:center;gap:18px;margin-bottom:10px;">
                            <input type="checkbox" id="autoScore" name="autoScore" checked>
                            <label for="autoScore">ìë™ ê· ë“±ë°°ë¶„</label>
                            <span>ë˜ëŠ” ìˆ˜ë™:</span>
                            <label for="manualScore">ë¬¸í•­ë‹¹:</label>
                            <input type="number" class="form-input" id="manualScore" name="manualScore" value="5" min="1" style="width:70px;">
                            <span>ì </span>
                        </div>
                    </div>
                    <div style="border-top:1.5px solid #e0e0e0;margin:32px 0 24px 0;"></div>
                    <div class="section-title" style="font-size:18px;margin-bottom:10px;">ğŸ‘€ ì‹œí—˜ ë¯¸ë¦¬ë³´ê¸°</div>
                    <button type="button" class="btn btn-preview" id="previewBtn">ëœë¤ ìƒ˜í”Œ ìƒì„±</button>
                    <div style="border-top:1.5px solid #e0e0e0;margin:32px 0 24px 0;"></div>
                    <div style="display:flex;gap:16px;justify-content:flex-end;margin-top:30px;">
                        <button type="submit" class="btn btn-save">ì €ì¥</button>
                        <button type="button" class="btn btn-assign">ê³¼ì •ì— ë°°ì •í•˜ê¸°</button>
                    </div>
                </form>
            </div>
    </main>

    <script>
                // ëœë¤ì¶œì œ ì²´í¬ë°•ìŠ¤ ìƒíƒœì— ë”°ë¼ ë¬¸ì œ ì¶œì œ ê·œì¹™, ì‹œí—˜êµ¬ì„± ì˜ì—­ í† ê¸€
                document.addEventListener('DOMContentLoaded', function() {
                    const randomOrderCheckbox = document.getElementById('randomOrder');
                    const ruleSection = document.getElementById('ruleSection');
                    const manualArea = document.getElementById('manualQuestionArea');
                    function toggleSections() {
                        if (randomOrderCheckbox.checked) {
                            manualArea.style.display = 'none';
                            ruleSection.style.display = '';
                        } else {
                            ruleSection.style.display = 'none';
                            manualArea.style.display = '';
                        }
                    }
                    randomOrderCheckbox.addEventListener('change', toggleSections);
                    toggleSections();
                });
        // ê·œì¹™ ì˜ˆì‹œ ë°ì´í„°
        const rules = [
            {
                subject: 'Python',
                topic: 'Loop',
                subtopic: 'for, while',
                difficulty: { Easy: 3, Medium: 2 },
                tags: 'iteration',
                count: 5
            },
            {
                subject: 'Python',
                topic: 'Function',
                subtopic: '',
                difficulty: { Medium: 3, Hard: 2 },
                tags: '',
                count: 5
            }
        ];

        // ìˆ˜ë™ ë¬¸ì œ ë¦¬ìŠ¤íŠ¸
        const manualQuestions = [];

        function renderManualQuestions() {
            const list = document.getElementById('manualQuestionList');
            if (!list) return;
            list.innerHTML = '';
            if (manualQuestions.length === 0) {
                list.innerHTML = '<div style="color:#888;font-size:14px;">ì¶”ê°€ëœ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
            } else {
                manualQuestions.forEach((q, idx) => {
                    list.innerHTML += `<div style="background:#f8f9fa;border-radius:6px;padding:10px 16px;margin-bottom:8px;display:flex;align-items:center;justify-content:space-between;">
                        <span style="font-size:15px;">${q}</span>
                        <button type="button" style="font-size:13px;padding:2px 10px;" onclick="removeManualQuestion(${idx})">ì‚­ì œ</button>
                    </div>`;
                });
            }
        }

        // ìˆ˜ë™ ë¬¸ì œ ì‚­ì œ í•¨ìˆ˜ (windowì— ë“±ë¡)
        window.removeManualQuestion = function(idx) {
            manualQuestions.splice(idx, 1);
            renderManualQuestions();
        }

        // ìˆ˜ë™ ë¬¸ì œ ì¶”ê°€ ë²„íŠ¼ ì´ë²¤íŠ¸
        document.addEventListener('DOMContentLoaded', function() {
            renderManualQuestions();
            const addManualBtn = document.getElementById('addManualQuestionBtn');
            if (addManualBtn) {
                addManualBtn.addEventListener('click', function() {
                    const q = prompt('ë¬¸ì œ ì œëª© ë˜ëŠ” ì‹ë³„ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
                    if (q) {
                        manualQuestions.push(q);
                        renderManualQuestions();
                    }
                });
            }
        });

        function renderRules() {
            const ruleList = document.getElementById('ruleList');
            ruleList.innerHTML = '';
            rules.forEach((rule, idx) => {
                let diffStr = Object.entries(rule.difficulty).map(([k,v]) => `${k} ${v}`).join(' / ');
                ruleList.innerHTML += `
                <div class="rule-card" style="background:#f8f9fa;border-radius:8px;padding:18px 20px 14px 20px;margin-bottom:12px;box-shadow:0 1px 4px rgba(0,0,0,0.03);position:relative;">
                    <div class="rule-info" style="font-size:15px;color:#333;line-height:1.7;">
                        <div>Subject: ${rule.subject}</div>
                        <div>Topic: ${rule.topic}</div>
                        ${rule.subtopic ? `<div>Subtopic: ${rule.subtopic}</div>` : ''}
                        <div>ë‚œì´ë„: ${diffStr}</div>
                        ${rule.tags ? `<div>íƒœê·¸: ${rule.tags}</div>` : ''}
                        <div>ì´ ${rule.count}ë¬¸í•­</div>
                    </div>
                    <div class="rule-actions" style="position:absolute;right:18px;top:18px;display:flex;gap:8px;">
                        <button type="button" onclick="editRule(${idx})" style="font-size:13px;padding:2px 10px;">ìˆ˜ì •</button>
                        <button type="button" onclick="deleteRule(${idx})" style="font-size:13px;padding:2px 10px;">ì‚­ì œ</button>
                    </div>
                </div>
                `;
            });
        }

        function renderManualQuestions() {
            const list = document.getElementById('manualQuestionList');
            if (!list) return;
            list.innerHTML = '';
            if (manualQuestions.length === 0) {
                list.innerHTML = '<div style="color:#888;font-size:14px;">ì¶”ê°€ëœ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
            } else {
                manualQuestions.forEach((q, idx) => {
                    list.innerHTML += `<div style="background:#f8f9fa;border-radius:6px;padding:10px 16px;margin-bottom:8px;display:flex;align-items:center;justify-content:space-between;">
                        <span style="font-size:15px;">${q}</span>
                        <button type="button" style="font-size:13px;padding:2px 10px;" onclick="removeManualQuestion(${idx})">ì‚­ì œ</button>
                    </div>`;
                });
            }
        }

        // ìˆ˜ë™ ë¬¸ì œ ì‚­ì œ í•¨ìˆ˜ (windowì— ë“±ë¡)
        window.removeManualQuestion = function(idx) {
            manualQuestions.splice(idx, 1);
            renderManualQuestions();
        }

        function editRule(idx) {
            alert('ê·œì¹™ ìˆ˜ì • ê¸°ëŠ¥ì€ ì¶”í›„ êµ¬í˜„ ì˜ˆì •ì…ë‹ˆë‹¤.');
        }
        function deleteRule(idx) {
            if (confirm('ì´ ê·œì¹™ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                rules.splice(idx, 1);
                renderRules();
            }
        }
        document.getElementById('addRuleBtn').addEventListener('click', function() {
            alert('ê·œì¹™ ì¶”ê°€ ê¸°ëŠ¥ì€ ì¶”í›„ êµ¬í˜„ ì˜ˆì •ì…ë‹ˆë‹¤.');
        });
        renderRules();

        // ê¸°íƒ€ ë²„íŠ¼ ì´ë²¤íŠ¸ ì˜ˆì‹œ
        document.getElementById('previewBtn').addEventListener('click', function() {
            alert('ëœë¤ ìƒ˜í”Œ ìƒì„± ê¸°ëŠ¥ì€ ì¶”í›„ êµ¬í˜„ ì˜ˆì •ì…ë‹ˆë‹¤.');
        });
        document.getElementById('testForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('ì‹œí—˜ ì €ì¥ ê¸°ëŠ¥ì€ ì¶”í›„ êµ¬í˜„ ì˜ˆì •ì…ë‹ˆë‹¤.');
        });
        document.querySelector('.btn-assign').addEventListener('click', function() {
            alert('ê³¼ì •ì— ë°°ì •í•˜ê¸° ê¸°ëŠ¥ì€ ì¶”í›„ êµ¬í˜„ ì˜ˆì •ì…ë‹ˆë‹¤.');
        });
    </script>
</body>
</html>