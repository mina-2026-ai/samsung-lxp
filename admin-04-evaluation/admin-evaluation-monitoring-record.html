<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../common-style.css">
    <link rel="stylesheet" href="../sidebar-style.css">
    <link rel="stylesheet" href="../btn-style.css">
    <link rel="stylesheet" href="../pagination.css">
    
    <script src="../sidebar-function.js" defer></script>
    <script src="../common-funtion.js" defer></script>
    <script src="../pagination.js" defer></script>
    <title>Samsung Academy LXP - ê´€ë¦¬ì</title>
    <style>
        /* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */
        .content-left{
            width: calc(100% - 400px);
            padding: 20px;
        }
        /* ì˜ìƒ ì»¨íŠ¸ë¡¤ ë°•ìŠ¤ */
        .video-controls {
            background: #f8f9fa;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid var(--color-line-gray);
        }

        .video-controls .video-controls-top{
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .controls-main {
            display: flex;
            gap: 12px;
            justify-content: center;
            align-items: center;
        }

        .control-btn {
            width: 40px;
            height: 40px;
            border: 1px solid var(--color-line-gray);
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.2s;
        }

        .control-btn:hover {
            background: #f0f0f0;
            transform: scale(1.05);
        }

        .control-btn:active {
            transform: scale(0.95);
        }

        .control-btn.play-btn {
            width: 48px;
            height: 48px;
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }

        .control-btn.play-btn:hover {
            background: #0056b3;
        }



        .control-option {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: #666;
        }

        .control-option select {
            padding: 4px 8px;
            border: 1px solid var(--color-line-gray);
            border-radius: 4px;
            font-size: 13px;
            cursor: pointer;
        }

        .icon-btn {
            width: 32px;
            height: 32px;
            border: 1px solid var(--color-line-gray);
            background: white;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .icon-btn:hover {
            background: #f0f0f0;
        }

        /* íƒ€ì„ë¼ì¸ */
        .video-controls-bottom {
            margin-top: 16px;
        }

        .timeline-container {
            width: 100%;
        }

        .timeline-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
            color: #666;
        }

        .timeline-bar {
            position: relative;
            width: 100%;
            height: 15px;
            background: #e0e0e0;
            border-radius: 4px;
            cursor: pointer;
            overflow: hidden;
        }

        .timeline-progress {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary) 0%, #0056b3 100%);
            width: 0%;
            transition: width 0.1s linear;
        }

        .timeline-handle {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 16px;
            height: 16px;
            background: white;
            border: 3px solid var(--color-primary);
            border-radius: 50%;
            cursor: grab;
            z-index: 5;
        }

        .timeline-handle:active {
            cursor: grabbing;
        }

        .timeline-time-markers {
            display: flex;
            justify-content: space-between;
            margin-top: 4px;
            font-size: 11px;
            color: #999;
        }

        .timeline-marker {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .timeline-marker::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 1px;
            height: 4px;
            background: #999;
        }

        /* ë¹„ë””ì˜¤ ê·¸ë¦¬ë“œ */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .video-item {
            position: relative;
            background: #000;
            border-radius: 4px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .video-item:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .video-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            aspect-ratio: 16/9;
        }

        .video-item .video-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 4px 8px;
            font-size: 12px;
            text-align: center;
        }

        /* ì „ì²´í™”ë©´ ë¹„ë””ì˜¤ */
        .fullscreen-video {
            position: fixed;
            bottom: 0;
            left: 250px;
            width: calc(100vw - 250px - 400px);
            height: calc(100% - var(--header-height));
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .fullscreen-video.active {
            display: flex;
        }

        .fullscreen-video video {
            max-width: 90%;
            max-height: 90%;
            aspect-ratio: 16/9;
        }

        .fullscreen-video .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border: 2px solid white;
            border-radius: 50%;
            color: white;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .fullscreen-video .close-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        /* ì˜¤ë¥¸ìª½ íŒ¨ë„ ì»¨í…ì¸  */
        .info-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--color-line-gray);
        }

        .info-section:last-child {
            border-bottom: none;
        }

        .info-row {
            margin-bottom: 12px;
        }

        .info-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 4px;
            font-weight: 500;
        }

        .info-value {
            font-size: 14px;
            color: #333;
            font-weight: 600;
        }

        .info-value.sub {
            font-size: 13px;
            color: #666;
            font-weight: 400;
            margin-top: 2px;
        }

        .memo-textarea {
            width: 100%;
            height: 120px;
            padding: 10px;
            border: 1px solid var(--color-line-gray);
            border-radius: 4px;
            font-size: 13px;
            resize: none;
            font-family: inherit;
        }

        .sanction-options {
            display: flex;
            justify-content: space-around;
            margin-top: 8px;
        }

        .sanction-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sanction-option input[type="radio"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .sanction-option label {
            font-size: 14px;
            color: #333;
            cursor: pointer;
        }

        .save-btn {
            width: 100%;
            margin-top: 16px;
        }

        .student-select {
            width: 100%;
            padding: 8px;
            margin-bottom: 16px;
        }

        .student-select:focus {
            outline: none;
            border-color: var(--color-primary);
        }
    </style>
</head>
<body>
    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="header">
        <h1>í‰ê°€ ê´€ë¦¬ > í‰ê°€ ëª¨ë‹ˆí„°ë§ > ì‹œí—˜ ë…¹í™” ì¡°íšŒ</h1>
        <!-- icon -->
        <div class="icon-container">
            <div class="icon-box"><img src="/icons/bell.svg" alt="alert icon" style="width: 28px;"></div>
            <div class="icon-box" onClick="location.href='../admin-00-topmenu/admin-topmenu-user.html'"><img src="/icons/user.svg" alt="user icon" style="width: 30px;"></div>
            <div class="icon-box"><img src="/icons/setting.svg" alt="setting icon" style="width: 25px;"></div>
        </div>
    </header>

    <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” -->
    <aside class="sidebar">
        <!-- ì‚¬ì´ë“œë°” ë©”ë‰´ ë‚´ìš© -->

        <!-- logo-box -->
        <div class="logo-box">
            <img id="sidebarLogo" src="/logo-white.png" alt="logo" style="width: 130px;">
        </div>

        <!-- menu -->
        <nav class="menu">
            <ul>
                <li data-page="../admin-01-dashboard/admin-dashboard.html" onclick="handleMenuClick(this, '../admin-01-dashboard/admin-dashboard.html')">
                    <img src="../icons/01-dashboard.svg" alt="dashboard icon" style="width: 26px; margin-left:-2px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">í˜„í™©(ëŒ€ì‹œë³´ë“œ)</span>
                </li>
                <li data-page="../admin-02-user/admin-user-trainee.html" onclick="handleMenuClick(this, '../admin-02-user/admin-user-trainee.html')" >
                    <img src="../icons/02-user.svg" alt="user icon" style="width: 28px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ì‚¬ìš©ì ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-02-user/admin-user-trainee.html'">í›ˆë ¨ìƒ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-02-user/admin-user-instructor.html'">ê°•ì‚¬ ê´€ë¦¬</li>
                         <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-02-user/admin-user.html'">ê´€ë¦¬ì ê´€ë¦¬</li>
                    </ul>
                </li>
                <li data-page="../admin-04-evaluation/admin-evaluation-question-bank.html" onclick="handleMenuClick(this, '../admin-04-evaluation/admin-evaluation-question-bank.html')">
                    <img src="../icons/03-description.svg" alt="evaluation icon" style="width: 26px; margin-left:0px; margin-right: 7px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ì½˜í…ì¸  ê´€ë¦¬</span>
                </li>
                <li data-page="../admin-03-courses/admin-course-edu.html" onclick="handleMenuClick(this, '../admin-03-courses/admin-courses-edu.html')">
                    <img src="../icons/03-course.svg" alt="course icon" style="width: 25px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ê³¼ì •/ìš´ì˜ ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-03-courses/admin-courses-edu.html'">ê³¼ì • ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-03-courses/admin-courses-schedule.html'">ì¼ì • ê´€ë¦¬</li>
                    </ul>
                </li>
                <li data-page="../admin-04-evaluation/admin-evaluation-assignment.html" onclick="handleMenuClick(this, '../admin-04-evaluation/admin-evaluation-assignment.html')">
                    <img src="../icons/04-evaluation.svg" alt="evaluation icon" style="width: 30px; margin-left:-4px; margin-right: 7px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text active_menu">í‰ê°€ ê´€ë¦¬</span>
                    <ul>
                                                <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-04-evaluation/admin-evaluation-assignment.html'">ê³¼ì œ ë°°ì • ë° ì±„ì </li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-04-evaluation/admin-evaluation-test.html'">ì‹œí—˜ ê´€ë¦¬</li>

                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-04-evaluation/admin-evaluation-result.html'">ì‹œí—˜ ë°°ì • ë° ì±„ì </li>
                        <li class="submenu active_menu" onclick="event.stopPropagation(); location.href='../admin-04-evaluation/admin-evaluation-monitoring.html'">í‰ê°€ ëª¨ë‹ˆí„°ë§</li>
                    </ul>
                </li>
                <li data-page="../admin-05-attendance/admin-attendance.html" onclick="handleMenuClick(this, '../admin-05-attendance/admin-attendance.html')">
                    <img src="../icons/05-attendance.svg" alt="attendance icon" style="width: 28px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ì¶œê²°/ì´ìˆ˜ ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-05-attendance/admin-attendance.html'">ì¶œê²°í˜„í™©</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-05-attendance/admin-attendance-graduate.html'">ì´ìˆ˜ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-05-attendance/admin-attendance-survey.html'">ì„¤ë¬¸ì¡°ì‚¬ ê´€ë¦¬</li>
                    </ul>
                </li>
                <li data-page="../admin-06-support/admin-support-tutoring.html" onclick="handleMenuClick(this, '../admin-06-support/admin-support-tutoring.html')">
                    <img src="../icons/06-support.svg" alt="support icon" style="width: 25px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">í•™ìŠµ ì§€ì›</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-06-support/admin-support-tutoring.html'">íŠœí„°ë§/Q&A</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-06-support/admin-support-response.html'">ì‘ë‹µí˜„í™©</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-06-support/admin-support-chat-monitoring.html'">ì±„íŒ… ëª¨ë‹ˆí„°ë§</li>
                    </ul>
                </li>
                <li data-page="../admin-07-notice/admin-notice.html" onclick="handleMenuClick(this, '../admin-07-notice/admin-notice.html')" class="white-icon">
                    <img src="../icons/bell.svg" alt="notice icon" style="width: 26px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ê³µì§€/ì•Œë¦¼</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-07-notice/admin-notice.html'">ê³µì§€ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='../admin-07-notice/admin-alarm.html'">ì•Œë¦¼ ê´€ë¦¬</li>
                    </ul>
                </li>
            </ul>
        </nav>
                <span class="logout" onclick="location.href='../01-login/login.html'">ë¡œê·¸ì•„ì›ƒ 

            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="CurrentColor">
                <path d="M186.67-120q-27 0-46.84-19.83Q120-159.67 120-186.67v-586.66q0-27 19.83-46.84Q159.67-840 186.67-840h292.66v66.67H186.67v586.66h292.66V-120H186.67Zm470.66-176.67-47-48 102-102H360v-66.66h351l-102-102 47-48 184 184-182.67 182.66Z"/>
            </svg>
        </span>
    </aside>

    <!-- í† ê¸€ ë²„íŠ¼ -->
    <div class="toggle-btn" onclick="toggleSidebar()">
        â—€
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
        <!-- ì™¼ìª½ ì½˜í…ì¸  ì˜ì—­ -->
        <section class="content-left">
                <!-- ì˜ìƒ ì»¨íŠ¸ë¡¤ ë°•ìŠ¤ -->
            <div class="video-controls">
                <div class="video-controls-top">
                    <div class="control-option">
                        <label for="playbackSpeed">ë°°ì†</label>
                        <select id="playbackSpeed">
                            <option value="0.5">0.5x</option>
                            <option value="0.75">0.75x</option>
                            <option value="1" selected>1.0x</option>
                            <option value="1.25">1.25x</option>
                            <option value="1.5">1.5x</option>
                            <option value="2">2.0x</option>
                        </select>
                    </div>
                    <div class="controls-main">
                        <button class="control-btn" id="prevBtn" title="ì´ì „">
                            â®
                        </button>
                        <button class="control-btn play-btn" id="playPauseBtn" title="ì¬ìƒ/ì¼ì‹œì •ì§€">
                            â–¶
                        </button>
                        <button class="control-btn" id="nextBtn" title="ë‹¤ìŒ">
                            â­
                        </button>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="icon-btn" id="muteBtn" title="ìŒì†Œê±° í•´ì œ">
                            ğŸ”‡
                        </button>
                    </div>
                </div>
                <div class="video-controls-bottom">
                    <div class="timeline-container">
                        <div class="timeline-info">
                            <span id="currentTime">00:00</span>
                            <span id="totalDuration">00:00</span>
                        </div>
                        <div class="timeline-bar" id="timelineBar">
                            <div class="timeline-progress" id="timelineProgress"></div>
                            <div class="timeline-handle" id="timelineHandle"></div>
                        </div>
                        <div class="timeline-time-markers" id="timelineMarkers">
                            <!-- JavaScriptë¡œ ë§ˆì»¤ ìƒì„± -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- ë¹„ë””ì˜¤ ê·¸ë¦¬ë“œ (5x4 = 20ê°œ) -->
            <div class="video-grid" id="videoGrid">
                <!-- ë¹„ë””ì˜¤ ì•„ì´í…œë“¤ì€ JavaScriptë¡œ ìƒì„± -->
            </div>

            <!-- ì „ì²´í™”ë©´ ë¹„ë””ì˜¤ -->
            <div class="fullscreen-video" id="fullscreenVideo">
                <button class="close-btn" onclick="closeFullscreen()">Ã—</button>
                <video id="fullscreenPlayer" controls>
                    <source src="" type="video/mp4">
                </video>
            </div>
        </section>

        <!-- ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°” -->
        <aside class="right-sidebar">
            <div class="sidebar-header">
                <h3 class="sidebar-title">ë…¹í™” ìƒì„¸</h3>
            </div>

            <div class="sidebar-content">
                <!-- ì‹œí—˜ ì •ë³´ -->
                <div class="info-section">
                    <div class="info-row">
                        <div class="info-label">ê³¼ì •ëª…</div>
                        <div class="info-value">í’€ìŠ¤íƒ ì›¹ ê°œë°œ (React & Node.js)</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">ê³¼ëª©ëª…</div>
                        <div class="info-value">JavaScript ê¸°ì´ˆ</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">ì‹œí—˜ëª…</div>
                        <div class="info-value">JavaScript ê¸°ì´ˆ ì¤‘ê°„ í‰ê°€</div>
                    </div>
                </div>

                <!-- ì‹œí—˜ ì‹œê°„ ì •ë³´ -->
                <div class="info-section">
                    <div class="info-row">
                        <div class="info-label">ì‹œí—˜ ë‚ ì§œ</div>
                        <div class="info-value">2026.01.15 (ìˆ˜)</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">ì‘ì‹œ ì‹œê°„</div>
                        <div class="info-value">14:30 ~ 16:00</div>
                        <div class="info-value sub">(ì‹¤ì œ ì‘ì‹œ: 14:32 ~ 15:58)</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">ì´ ë…¹í™”ì‹œê°„</div>
                        <div class="info-value">01:26:34</div>
                    </div>
                </div>

                <!-- ê´€ë¦¬ì ë©”ëª¨ -->
                <div class="info-section">
                    <div class="info-label">ê´€ë¦¬ì ë©”ëª¨</div>
                    <textarea class="memo-textarea" id="adminMemo" placeholder="ê´€ë¦¬ì ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                </div>

                <!-- í•™ìƒ ì„ íƒ -->
                <!-- ì œì¬ ì„ íƒ -->
                <div class="info-section">
                    <div class="info-label">í•™ìƒ ì„ íƒ</div>
                    <select class="student-select" id="studentSelect">
                        <option value="">í•™ìƒì„ ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="ê¹€ë¯¼ìˆ˜">ê¹€ë¯¼ìˆ˜</option>
                        <option value="ì´ì§€ì€">ì´ì§€ì€</option>
                        <option value="ë°•ì¤€í˜¸">ë°•ì¤€í˜¸</option>
                        <option value="ìµœì„œì—°">ìµœì„œì—°</option>
                        <option value="ì •ìš°ì§„">ì •ìš°ì§„</option>
                        <option value="ê°•ë¯¼ì§€">ê°•ë¯¼ì§€</option>
                        <option value="ìœ¤íƒœí¬">ìœ¤íƒœí¬</option>
                        <option value="ì„í•˜ëŠ˜">ì„í•˜ëŠ˜</option>
                        <option value="ì†¡ì§€í˜œ">ì†¡ì§€í˜œ</option>
                        <option value="í•œë™ìš±">í•œë™ìš±</option>
                    </select>
                    <div class="info-label">ì œì¬ ì²˜ë¦¬</div>
                    <div class="sanction-options">
                        <div class="sanction-option">
                            <input type="radio" id="sanction-none" name="sanction" value="none" checked>
                            <label for="sanction-none">ì—†ìŒ</label>
                        </div>
                        <div class="sanction-option">
                            <input type="radio" id="sanction-warning" name="sanction" value="warning">
                            <label for="sanction-warning">ê²½ê³ </label>
                        </div>
                        <div class="sanction-option">
                            <input type="radio" id="sanction-retest" name="sanction" value="retest">
                            <label for="sanction-retest">ì¬ì‹œí—˜</label>
                        </div>
                        <div class="sanction-option">
                            <input type="radio" id="sanction-invalid" name="sanction" value="invalid">
                            <label for="sanction-invalid">ë¬´íš¨ì²˜ë¦¬</label>
                        </div>
                    </div>
                    <button class="btn btn-primary save-btn" onclick="saveSanction()">ì €ì¥</button>
                </div>

            </div>
        </aside>
    </main>

    <script>
        // ì˜ìƒ ì»¨íŠ¸ë¡¤ ìƒíƒœ
        let isPlaying = false;
        let isMuted = true; // ì´ˆê¸° ìŒì†Œê±° ìƒíƒœ
        let allVideos = [];
        let isDragging = false;
        let duration = 0;
        let currentTime = 0;

        // ë¹„ë””ì˜¤ ê·¸ë¦¬ë“œ ìƒì„± (5x4 = 20ê°œ)
        function createVideoGrid() {
            const videoGrid = document.getElementById('videoGrid');
            const sampleVideo = '../sample-videos/sample-video.mp4';

            for (let i = 1; i <= 20; i++) {
                const videoItem = document.createElement('div');
                videoItem.className = 'video-item';
                videoItem.innerHTML = `
                    <video data-video-id="${i}" muted>
                        <source src="${sampleVideo}" type="video/mp4">
                    </video>
                    <div class="video-label">ì¹´ë©”ë¼ ${i}</div>
                `;

                // ë”ë¸”í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
                const video = videoItem.querySelector('video');
                video.addEventListener('dblclick', function() {
                    openFullscreen(this.querySelector('source').src, i);
                });

                videoGrid.appendChild(videoItem);
            }

            // ëª¨ë“  ë¹„ë””ì˜¤ ì°¸ì¡° ì €ì¥
            allVideos = Array.from(document.querySelectorAll('.video-grid video'));
            
            // ì²« ë²ˆì§¸ ë¹„ë””ì˜¤ë¡œ duration ì„¤ì •
            if (allVideos.length > 0) {
                allVideos[0].addEventListener('loadedmetadata', function() {
                    duration = this.duration;
                    updateDurationDisplay();
                    createTimelineMarkers();
                });
            }

            // ëª¨ë“  ë¹„ë””ì˜¤ ìë™ ì¬ìƒ (ìŒì†Œê±° ìƒíƒœ)
            allVideos.forEach(video => {
                // ì´ˆê¸° ì„¤ì • ì ìš©
                video.muted = isMuted;
                video.playbackRate = 1.0;
                
                video.play().catch(err => console.log('ìë™ ì¬ìƒ ì‹¤íŒ¨:', err));
                
                // timeupdate ì´ë²¤íŠ¸ë¡œ íƒ€ì„ë¼ì¸ ì—…ë°ì´íŠ¸
                video.addEventListener('timeupdate', function() {
                    if (!isDragging && this === allVideos[0]) {
                        currentTime = this.currentTime;
                        updateTimeline();
                    }
                });
            });
        }

        // íƒ€ì„ë¼ì¸ ë§ˆì»¤ ìƒì„±
        function createTimelineMarkers() {
            const markersContainer = document.getElementById('timelineMarkers');
            const markerCount = 10;
            markersContainer.innerHTML = '';
            
            for (let i = 0; i <= markerCount; i++) {
                const time = (duration / markerCount) * i;
                const marker = document.createElement('div');
                marker.className = 'timeline-marker';
                marker.textContent = formatTime(time);
                markersContainer.appendChild(marker);
            }
        }

        // ì‹œê°„ í¬ë§· (mm:ss)
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Duration í‘œì‹œ ì—…ë°ì´íŠ¸
        function updateDurationDisplay() {
            document.getElementById('totalDuration').textContent = formatTime(duration);
        }

        // íƒ€ì„ë¼ì¸ ì—…ë°ì´íŠ¸
        function updateTimeline() {
            const percentage = (currentTime / duration) * 100;
            document.getElementById('timelineProgress').style.width = percentage + '%';
            document.getElementById('timelineHandle').style.left = percentage + '%';
            document.getElementById('currentTime').textContent = formatTime(currentTime);
        }

        // íƒ€ì„ë¼ì¸ í´ë¦­/ë“œë˜ê·¸ë¡œ ì‹œê°„ ì´ë™
        function seekToPosition(clientX) {
            const timelineBar = document.getElementById('timelineBar');
            const rect = timelineBar.getBoundingClientRect();
            const percentage = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));
            const newTime = percentage * duration;
            
            // ëª¨ë“  ë¹„ë””ì˜¤ ì‹œê°„ ë™ê¸°í™”
            allVideos.forEach(video => {
                video.currentTime = newTime;
            });
            
            currentTime = newTime;
            updateTimeline();
        }

        // íƒ€ì„ë¼ì¸ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.getElementById('timelineBar').addEventListener('mousedown', function(e) {
            isDragging = true;
            seekToPosition(e.clientX);
        });

        document.addEventListener('mousemove', function(e) {
            if (isDragging) {
                seekToPosition(e.clientX);
            }
        });

        document.addEventListener('mouseup', function() {
            isDragging = false;
        });

        document.getElementById('timelineHandle').addEventListener('mousedown', function(e) {
            e.stopPropagation();
            isDragging = true;
        });

        // ì „ì²´í™”ë©´ìœ¼ë¡œ ë¹„ë””ì˜¤ ì—´ê¸°
        function openFullscreen(videoSrc, cameraId) {
            const fullscreenDiv = document.getElementById('fullscreenVideo');
            const fullscreenPlayer = document.getElementById('fullscreenPlayer');
            
            // Sidebar ìƒíƒœ í™•ì¸
            const sidebar = document.querySelector('.sidebar');
            const isSidebarCollapsed = sidebar.classList.contains('collapsed');
            const sidebarWidth = isSidebarCollapsed ? 60 : 240;
            
            // ì „ì²´í™”ë©´ ìœ„ì¹˜ ë° í¬ê¸° ì¡°ì • (right-sidebar 400px í¬í•¨)
            fullscreenDiv.style.left = sidebarWidth + 'px';
            fullscreenDiv.style.width = `calc(100vw - ${sidebarWidth}px - 400px)`;
            
            fullscreenPlayer.querySelector('source').src = videoSrc;
            fullscreenPlayer.load();
            fullscreenPlayer.play();
            fullscreenDiv.classList.add('active');
            
        }

        // ì „ì²´í™”ë©´ ë‹«ê¸°
        function closeFullscreen() {
            const fullscreenDiv = document.getElementById('fullscreenVideo');
            const fullscreenPlayer = document.getElementById('fullscreenPlayer');
            
            fullscreenPlayer.pause();
            fullscreenDiv.classList.remove('active');
        }

        // ESC í‚¤ë¡œ ì „ì²´í™”ë©´ ë‹«ê¸°
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeFullscreen();
            }
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë¹„ë””ì˜¤ ê·¸ë¦¬ë“œ ìƒì„±
        window.addEventListener('DOMContentLoaded', function() {
            createVideoGrid();
        });

        // ì¬ìƒ/ì¼ì‹œì •ì§€ ë²„íŠ¼
        document.getElementById('playPauseBtn').addEventListener('click', function() {
            isPlaying = !isPlaying;
            this.textContent = isPlaying ? 'â¸' : 'â–¶';
            
            // ëª¨ë“  ë¹„ë””ì˜¤ ì¬ìƒ/ì¼ì‹œì •ì§€ ë™ê¸°í™”
            allVideos.forEach(video => {
                if (isPlaying) {
                    video.play();
                } else {
                    video.pause();
                }
            });
        });

        // ì´ì „ ë²„íŠ¼
        document.getElementById('prevBtn').addEventListener('click', function() {
            console.log('ì´ì „ ì˜ìƒ');
            // ì´ì „ ì˜ìƒìœ¼ë¡œ ì´ë™ ë¡œì§ ì¶”ê°€
        });

        // ë‹¤ìŒ ë²„íŠ¼
        document.getElementById('nextBtn').addEventListener('click', function() {
            console.log('ë‹¤ìŒ ì˜ìƒ');
            // ë‹¤ìŒ ì˜ìƒìœ¼ë¡œ ì´ë™ ë¡œì§ ì¶”ê°€
        });

        // ë°°ì† ì¡°ì ˆ
        document.getElementById('playbackSpeed').addEventListener('change', function() {
            const speed = parseFloat(this.value);
            
            // ëª¨ë“  ë¹„ë””ì˜¤ ë°°ì† ë™ê¸°í™”
            allVideos.forEach(video => {
                video.playbackRate = speed;
            });
        });

        // ìŒì†Œê±° ë²„íŠ¼
        document.getElementById('muteBtn').addEventListener('click', function() {
            isMuted = !isMuted;
            this.textContent = isMuted ? 'ğŸ”‡' : 'ğŸ”Š';
            
            // ëª¨ë“  ë¹„ë””ì˜¤ ìŒì†Œê±° ë™ê¸°í™”
            allVideos.forEach(video => {
                video.muted = isMuted;
            });
        });

        // ì œì¬ ì²˜ë¦¬ ì €ì¥
        function saveSanction() {
            const student = document.getElementById('studentSelect').value;
            const memo = document.getElementById('adminMemo').value;
            const sanction = document.querySelector('input[name="sanction"]:checked').value;
            
            if (!student) {
                alert('í•™ìƒì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const sanctionText = {
                'none': 'ì—†ìŒ',
                'warning': 'ê²½ê³ ',
                'retest': 'ì¬ì‹œí—˜',
                'invalid': 'ë¬´íš¨ì²˜ë¦¬'
            };

            console.log('ì €ì¥ëœ ë‚´ìš©:');
            console.log('í•™ìƒ:', student);
            console.log('ê´€ë¦¬ì ë©”ëª¨:', memo);
            console.log('ì œì¬ ì²˜ë¦¬:', sanctionText[sanction]);
            
            alert(`ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\ní•™ìƒ: ${student}\nì œì¬: ${sanctionText[sanction]}`);
        }

        // ì „ì²´í™”ë©´ ë²„íŠ¼
        document.getElementById('fullscreenBtn').addEventListener('click', function() {
            console.log('ì „ì²´í™”ë©´');
            // ì „ì²´í™”ë©´ ì „í™˜ ë¡œì§ ì¶”ê°€
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                document.documentElement.requestFullscreen();
            }
        });
    </script>
</body>
</html>