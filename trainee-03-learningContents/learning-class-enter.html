<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../basic-form-trainee.css">
    <link rel="stylesheet" href="../btn-style.css">
  <title>강의실 입장</title>
  <style>
    /* 채팅 스크롤바 숨김 (기능은 유지) */
    .comm-content::-webkit-scrollbar {
        width: 0 !important;
        background: transparent;
    }
    .comm-content {
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE 10+ */
    }
    /* 채팅 말풍선 스타일 */
    .chat-bubble {
        display: block;
        max-width: 80%;
        width: fit-content;
        background: #007bff;
        color: #fff;
        padding: 10px 16px;
        border-radius: 18px 18px 4px 18px;
        margin: 6px 0 6px 0;
        font-size: 1rem;
        word-break: break-word;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        text-align: left;
        margin-left: auto;
    }
    /* 채팅 입력창 하단 고정 오버라이드 */
    .comm-chat-section {
        position: relative;
    }
    .comm-chat-section .comm-content {
        padding-bottom: 60px !important;
    }
    .comm-chat-section .comm-input-area {
        position: absolute;
        left: 0;
        bottom: 0;
        width: 100%;
        box-sizing: border-box;
    }
    .comm-input-area .comm-input {
        width: calc(100% - 80px);
        padding: 5px;
        outline: none;
        /* background-color: transparent; */
    }
    .comm-panel {
        position: fixed;
        top: 64px;
        right: 0;
        width: 340px;
        height: calc(100vh - 64px);
        background: #181818;
        border-left: 1.5px solid #222;
        display: flex;
        flex-direction: column;
        z-index: 100;
        box-shadow: -2px 0 8px rgba(0,0,0,0.12);
        transition: transform 0.2s;
    }
    .comm-panel.closed {
        transform: translateX(100%);
    }
    .comm-chat-section, .comm-memo-section {
        display: flex;
        flex-direction: column;
        height: 50%;
        border-bottom: 1px solid #232323;
        position: relative;
    }
    .comm-memo-section {
        border-bottom: none;
        padding:0 10px 15px ;
    }
    .comm-label {
        font-size: 1.1rem;
        font-weight: 600;
        
        border-top: 1px solid #222;
        padding: 10px 10px 10px 10px;
        display: flex;
        gap: 8px;
    }
    .comm-memo-input-area {
        width: 100%;
        background: #202020;
        border-top: 1px solid #222;
        padding: 10px 10px 10px 10px;
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    .comm-memo-textarea {
        width: 100%;
        height: 100%;
        resize: none;
        border-radius: 6px;
        border: none;
        padding: 10px 12px;
        font-size: 1rem;
        background: #292929;
        color: #fff;
        outline: none;
        box-sizing: border-box;
    }
    .comm-memo-save-btn {
        background: #007bff;
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 10px 0;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.2s;
        width: 100%;
    }
    .comm-memo-save-btn:hover {
        background: #0056b3;
    }
    .header .comm-toggle-btn {
        margin-left: auto;
        background: #232323;
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 7px 18px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.2s;
    }
    .header .comm-toggle-btn:hover {
        background: #333;
    }
    .comm-content {
        flex: 1 1 0;
        overflow-y: auto;
        padding: 12px 16px 12px 16px;
        font-size: 1rem;
        color: #eee;
    }
    .comm-input-area {
        width: 100%;
        background: #202020;
        border-top: 1px solid #222;
        padding: 10px 10px 10px 10px;
        display: flex;
        gap: 8px;
        position: absolute;
        left: 0;
        bottom: 0;
        box-sizing: border-box;
    }
    
    .comm-send-btn:hover {
        background: #0056b3;
    }
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    body {
        width: 100vw;
        height: 100vh;
        min-height: 100vh;
        min-width: 100vw;
        background: #000;
        color: #fff;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }
    .header {
        width: 100%;
        height: 64px;
        background: #181818;
        display: flex;
        align-items: center;
        padding: 0 32px;
        font-size: 1.2rem;
        font-weight: 500;
        letter-spacing: 1px;
        border-bottom: 1.5px solid #222;
        box-sizing: border-box;
    }
    .lecture-area {
        flex: 1 1 0;
        width: 100%;
        background: #000;
        display: flex;
        align-items: center;
        justify-content: center;
    }
</style>
</head>
<body>
<div class="header">
    강의실 - 객체지향 프로그래밍
    <button class="comm-toggle-btn" id="commToggleBtn" onclick="toggleCommPanel()">우측접기</button>
</div>
<div class="lecture-area" id="lectureArea" style="margin-right:340px;">
    <!-- 강의 영상/화면이 이 영역을 꽉 채웁니다. -->
</div>
<div class="comm-panel" id="commPanel">
    <div class="comm-chat-section">
    <div class="comm-label">채팅</div>
    <div class="comm-content" id="commChat" style="margin-bottom:60px;"></div>
    <div class="comm-input-area">
        <input type="text" class="comm-input" id="commChatInput" placeholder="메시지를 입력하세요..." onkeydown="if(event.key==='Enter'){sendCommMessage('chat');}">
        <button class="btn btn-primary" onclick="sendCommMessage('chat')">전송</button>
    </div>
    </div>
    <div class="comm-memo-section">
    <div class="comm-label">메모</div>
        <textarea class="comm-memo-textarea" id="commMemoTextarea" placeholder="메모를 입력하세요..."></textarea>
        <button class="btn-primary btn" onclick="saveMemo()">저장하기</button>
    </div>
</div>
<script>
    function toggleCommPanel() {
    const panel = document.getElementById('commPanel');
    const lectureArea = document.getElementById('lectureArea');
    const btn = document.getElementById('commToggleBtn');
    const isClosed = panel.classList.toggle('closed');
    lectureArea.style.marginRight = isClosed ? '0' : '340px';
    btn.textContent = isClosed ? '우측열기' : '우측접기';
    }
        function sendCommMessage(type) {
            let input, content;
            if (type === 'chat') {
                input = document.getElementById('commChatInput');
                content = document.getElementById('commChat');
                const value = input.value.trim();
                if (!value) return;
                const bubble = document.createElement('div');
                bubble.className = 'chat-bubble';
                bubble.textContent = value;
                content.appendChild(bubble);
                content.scrollTop = content.scrollHeight;
                input.value = '';
                input.focus();
            }
        }

    function saveMemo() {
    const textarea = document.getElementById('commMemoTextarea');
    const value = textarea.value.trim();
    if (!value) return;
        // 서버 저장 로직 필요
        alert('메모가 저장되었습니다. (실제 저장은 서버 연동 필요)');
    textarea.value = '';
    textarea.focus();
    }
</script>
</body>
</html>
