<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/common-style.css">
    <link rel="stylesheet" href="/static/css/sidebar-style.css">
    <link rel="stylesheet" href="/static/css/btn-style.css">
    
    <script src="/static/js/sidebar-function.js" defer></script>
    <script src="/static/js/common-funtion.js" defer></script>
    <title>Samsung Academy LXP - ê´€ë¦¬ì</title>
    <style>
        /* ì¶”ê°€ì ì¸ í˜ì´ì§€ë³„ ìŠ¤íƒ€ì¼ì€ ì—¬ê¸°ì— ì‘ì„± */

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ (ì´ìˆ˜ ê´€ë¦¬ì—ì„œ ë³µì‚¬) */
        .modal-content {
            background-color: white;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }
        .status-change-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .status-change-modal.show {
            display: flex;
        }
        .modal-header {
            padding: 25px 30px;
            border-bottom: 1px solid var(--color-line-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-header h2 {
            font-size: 20px;
            font-weight: 600;
            color: var(--color-font-gray);
        }
        .modal-body {
            padding: 30px;
        }
        .modal-footer {
            padding: 20px 30px;
            border-top: 1px solid var(--color-line-gray);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
                 /* í…Œì´ë¸” row hover/active ìŠ¤íƒ€ì¼ */
                .history-table tbody tr {
                    transition: background 0.2s;
                    cursor: pointer;
                }
                .history-table tbody tr.row-hover {
                    background: #f0f6ff;
                }
        /* ì¶”ê°€ì ì¸ í˜ì´ì§€ë³„ ìŠ¤íƒ€ì¼ì€ ì—¬ê¸°ì— ì‘ì„± */

        /* ë¹ ë¥¸ ì„ íƒ ê³¼ëª© ì¹´ë“œ ìŠ¤íƒ€ì¼ (course-card ì°¸ê³ ) */
        .quick-select-section {
            margin-bottom: 24px;
        }
        .quick-select-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #333;
        }
        .quick-course-list {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }
        .quick-course-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 24px 32px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
            min-width: 180px;
            box-sizing: border-box;
            font-size: 16px;
            color: #333;
        }
        .quick-course-card:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
            transform: translateY(-4px);
            border-color: #4a8fe7;
        }
        .quick-divider {
            width: 100%;
            height: 2px;
            background: #e0e0e0;
            margin: 0 0 24px 0;
            border-radius: 2px;
        }

        .filter-section {
            margin-top: 24px;
            display: flex;
            justify-content: space-between;
        }

        /* course-card ë‚´ë¶€ êµ¬ì¡° ìŠ¤íƒ€ì¼ */
        .course-top-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        .course-category {
            font-size: 14px;
            font-weight: 700;
            color: #fff;
            background: #007bff;
            padding: 4px 8px;
            border-radius: 12px;
        }
        .toggle-status {
            font-size: 14px;
        }
        .status-toggle {
            padding: 4px 8px;
            border: 1px solid #007bff;
            border-radius: 12px;
            background: #fff;
            color: #007bff;
            cursor: pointer;
        }
        .course-header {
            margin-bottom: 12px;
            text-align: start;
        }
        .course-title {
            font-size: 16px;
            font-weight: 700;
            color: #333;
            margin: 0;
        }
        .instructor-name {
            font-size: 14px;
            color: #777;
        }
        .course-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            background-color: var(--color-line-gray);
            padding: 8px 12px;
            border-radius: 8px;
        }
        .stat-box {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .stat-text {
            font-size: 14px;
            color: #333;
        }
        .divider-vertical {
            width: 1px;
            height: 16px;
            background: #e0e0e0;
            margin: 0 8px;
        }
        .course-progress-info {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 8px;
        }
        .progress-left {
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: flex-start;
        }
        .progress-period {
            font-size: 12px;
            color: #777;
        }
        .progress-percentage {
            font-size: 14px;
            color: var(--color-primary);
        }
        .progress-bar-container {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }
        .progress-bar {
            height: 100%;
            background: #007bff;
            border-radius: 4px;
        }

        /* ì¶œê²°ì •ë³´ í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .attendance-info-section {
            margin-top: 15px;
            display: flex;
            align-items: flex-start;
            flex-direction: column;
        }
        .history-table {
            width: 100%;
            border-collapse: collapse;
        }
        .history-table th, .history-table td {
            border: 1px solid #e0e0e0;
            padding: 12px 16px;
            text-align: center;
        }
        .history-table th {
            background: #f7f7f9;
            font-weight: 700;
            color: #333;
        }
        .history-table td {
            font-size: 14px;
            color: #333;
        }

        #name-table td,
        #session-table td,
        #status-table td {
            height: 48px;
            min-height: 48px;
            max-height: 48px;
            box-sizing: border-box;
            padding-top: 0;
            padding-bottom: 0;
            vertical-align: middle;
        }

        .filter-left {
            display: flex;
            gap: 32px;
            align-items: flex-end;
        }

        .course-select-section {
            min-width: 220px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .course-select-section label {
            font-size: 18px;
            color: #333;
        }

        #courseSelect {
            min-width: 300px;
        }

        #name-table {
            width: 180px;
            min-width: 180px;
            max-width: 180px;
        }
        #status-table {
            width: 320px;
            min-width: 320px;
            max-width: 320px;
        }
        .session-table-wrapper {
            flex: 1 1 0;
            min-width: 0;
            overflow-x: auto;
            overflow-y: hidden;
        }
        #session-table {
            width: 100%;
            table-layout: fixed;
        }
        #session-table tr {
            height: 48px;
            min-height: 48px;
            max-height: 48px;
        }
    </style>
</head>
<body>
    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="header">
        <h1>ì¶œê²°/ì´ìˆ˜ ê´€ë¦¬ > ì„¤ë¬¸ì¡°ì‚¬ ê´€ë¦¬</h1>
        <!-- icon -->
        <div class="icon-container">
            <div class="icon-box"><img src="/icons/bell.svg" alt="alert icon" style="width: 28px;"></div>
            <div class="icon-box" onClick="location.href='/templates/admin/my-info.html'"><img src="/icons/user.svg" alt="user icon" style="width: 30px;"></div>
            <div class="icon-box"><img src="/icons/setting.svg" alt="setting icon" style="width: 25px;"></div>
        </div>
    </header>

    <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” -->
    <aside class="sidebar">
        <!-- ì‚¬ì´ë“œë°” ë©”ë‰´ ë‚´ìš© -->

        <!-- logo-box -->
        <div class="logo-box">
            <img id="sidebarLogo" src="/logo-white.png" alt="logo" style="width: 130px;">
        </div>

        <!-- menu -->
        <nav class="menu">
            <ul>
                <li data-page="/templates/admin/admin-01-dashboard/admin-dashboard.html" onclick="handleMenuClick(this, '/templates/admin/admin-01-dashboard/admin-dashboard.html')">
                    <img src="/static/icons/01-dashboard.svg" alt="dashboard icon" style="width: 26px; margin-left:-2px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">í˜„í™©(ëŒ€ì‹œë³´ë“œ)</span>
                </li>
                <li data-page="/templates/admin/admin-02-user/admin-user-trainee.html" onclick="handleMenuClick(this, '/templates/admin/admin-02-user/admin-user-trainee.html')" >
                    <img src="/static/icons/02-user.svg" alt="user icon" style="width: 28px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ì‚¬ìš©ì ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-02-user/admin-user-trainee.html'">í›ˆë ¨ìƒ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-02-user/admin-user-instructor.html'">ê°•ì‚¬ ê´€ë¦¬</li>
                         <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-02-user/admin-user.html'">ê´€ë¦¬ì ê´€ë¦¬</li>
                    </ul>
                </li>
                <li data-page="/templates/admin/admin-04-evaluation/admin-evaluation-question-bank.html" onclick="handleMenuClick(this, '/templates/admin/admin-04-evaluation/admin-evaluation-question-bank.html')">
                    <img src="/static/icons/03-description.svg" alt="evaluation icon" style="width: 26px; margin-left:0px; margin-right: 7px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ì½˜í…ì¸  ê´€ë¦¬</span>
                </li>
                <li data-page="/templates/admin/admin-03-courses/admin-course-edu.html" onclick="handleMenuClick(this, '/templates/admin/admin-03-courses/admin-courses-edu.html')">
                    <img src="/static/icons/03-course.svg" alt="course icon" style="width: 25px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ê³¼ì •/ìš´ì˜ ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-03-courses/admin-courses-edu.html'">ê³¼ì • ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-03-courses/admin-courses-schedule.html'">ì¼ì • ê´€ë¦¬</li>
                    </ul>
                </li>
                <li data-page="/templates/admin/admin-04-evaluation/admin-evaluation-assignment.html" onclick="handleMenuClick(this, '/templates/admin/admin-04-evaluation/admin-evaluation-assignment.html')">
                    <img src="/static/icons/04-evaluation.svg" alt="evaluation icon" style="width: 30px; margin-left:-4px; margin-right: 7px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text active_menu">í‰ê°€ ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu active_menu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-04-evaluation/admin-evaluation-assignment.html'">ê³¼ì œ ì±„ì </li>

                                                
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-04-evaluation/admin-evaluation-result.html'">ì‹œí—˜ ì±„ì </li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-04-evaluation/admin-evaluation-monitoring.html'">í‰ê°€ ëª¨ë‹ˆí„°ë§</li>
                    </ul>
                </li>
                <li data-page="/templates/admin/admin-05-attendance/admin-attendance.html" onclick="handleMenuClick(this, '/templates/admin/admin-05-attendance/admin-attendance.html')">
                    <img src="/static/icons/05-attendance.svg" alt="attendance icon" style="width: 28px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text active_menu">ì¶œê²°/ì´ìˆ˜ ê´€ë¦¬</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-05-attendance/admin-attendance.html'">ì¶œê²°í˜„í™©</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-05-attendance/admin-attendance-graduate.html'">ì´ìˆ˜ ê´€ë¦¬</li>
                        <li class="submenu active_menu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-05-attendance/admin-attendance-survey.html'">ì„¤ë¬¸ì¡°ì‚¬ ê´€ë¦¬</li>
                    </ul>
                </li>
                <li data-page="/templates/admin/admin-06-support/admin-support-tutoring.html" onclick="handleMenuClick(this, '/templates/admin/admin-06-support/admin-support-tutoring.html')">
                    <img src="/static/icons/06-support.svg" alt="support icon" style="width: 25px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">í•™ìŠµ ì§€ì›</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-06-support/admin-support-tutoring.html'">íŠœí„°ë§/Q&A</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-06-support/admin-support-response.html'">ì‘ë‹µí˜„í™©</li>
                        <!-- <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-06-support/admin-support-chat-monitoring.html'">ì±„íŒ… ëª¨ë‹ˆí„°ë§</li> -->
                    </ul>
                </li>
                <li data-page="/templates/admin/admin-07-notice/admin-notice.html" onclick="handleMenuClick(this, '/templates/admin/admin-07-notice/admin-notice.html')" class="white-icon">
                    <img src="/static/icons/bell.svg" alt="notice icon" style="width: 26px; margin-right: 8px; vertical-align: middle; padding-bottom: 4px;">
                    <span class="menu-text">ê³µì§€/ì•Œë¦¼</span>
                    <ul>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-07-notice/admin-notice.html'">ê³µì§€ ê´€ë¦¬</li>
                        <li class="submenu" onclick="event.stopPropagation(); location.href='/templates/admin/admin-07-notice/admin-alarm.html'">ì•Œë¦¼ ê´€ë¦¬</li>
                    </ul>
                </li>
            </ul>
        </nav>
                <span class="logout" onclick="location.href='../01-login/login.html'">ë¡œê·¸ì•„ì›ƒ 

            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="CurrentColor">
                <path d="M186.67-120q-27 0-46.84-19.83Q120-159.67 120-186.67v-586.66q0-27 19.83-46.84Q159.67-840 186.67-840h292.66v66.67H186.67v586.66h292.66V-120H186.67Zm470.66-176.67-47-48 102-102H360v-66.66h351l-102-102 47-48 184 184-182.67 182.66Z"/>
            </svg>
        </span>
    </aside>

    <!-- í† ê¸€ ë²„íŠ¼ -->
    <div class="toggle-btn" onclick="toggleSidebar()">
        â—€
    </div>

    
    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
        <!-- í›ˆë ¨ìƒ ê´€ë¦¬ -->
        <section class="main-content-inner">
            <div class="section-header">
                <h2>ë¹ ë¥¸ì„ íƒ</h2>
            </div>

            <!-- ë¹ ë¥¸ ì„ íƒ ê³¼ëª© ì¹´ë“œ ì˜ì—­ -->
                <div class="quick-course-list" id="quickCourseList">
                    <!-- JSì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„± -->
                </div>
                <div class="divider"></div>
            <!-- </div> -->

            <section class="filter-section">
                <div class="filter-left">
                    <!-- ê³¼ì • ì„ íƒ ì˜ì—­ -->
                    <div class="course-select-section">
                        <label for="courseSelect">ê³¼ì • ì„ íƒ</label>
                        <select id="courseSelect">
                            <option value="course1">í’€ìŠ¤íƒ ì›¹ ê°œë°œ (React & Node.js)</option>
                            <option value="course2">AI ì—”ì§€ë‹ˆì–´ë§</option>
                        </select>
                        <button class="btn btn-gray btn-sm" id="surveyStatusChangeBtn">ë¹ ë¥¸ ìƒíƒœë³€ê²½</button>
                    </div>
                </div>

                <!-- ì •ë ¬ ê¸°ì¤€ ì˜ì—­ -->
                <div class="course-select-section">
                    <label for="sortSelect">ì •ë ¬ ê¸°ì¤€</label>
                    <select id="sortSelect" style="min-width: 120px;">
                        <option value="name">ì´ë¦„ìˆœ</option>
                        <option value="rate">ìˆ˜ê°•ë¥ </option>
                        <option value="risk">ì´íƒˆìœ„í—˜ë„</option>
                    </select>
                    <button id="sortOrderBtn" type="button" style="height: 36px; width: 36px; border: 1px solid #ccc; background: #fff; border-radius: 6px; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                        <span id="sortOrderIcon" style="font-size: 18px;">â–²</span>
                    </button>
                </div>                
            </section>


            <!-- ì¶œê²°ì •ë³´ í…Œì´ë¸” -->
            <div class="attendance-info-section">
                <div style="margin-left: auto;">
                    <button class="btn btn-secondary" id="addSurveyBtn">+ ì„¤ë¬¸ ì¶”ê°€</button>
                </div>
                <table id="survey-table" class="history-table">
                    <thead>
                        <tr>
                            <th><input type="checkbox" id="surveyCheckAll"></th>
                            <th>ìƒíƒœ</th>
                            <th>ì„¤ë¬¸ëª…</th>
                            <th>ìœ í˜•</th>
                            <th>ì—°ê³„ ì°¨ì‹œ</th>
                            <th>ì´ìˆ˜ ë°˜ì˜</th>
                            <th>í•„ìˆ˜</th>
                            <th>ì‘ë‹µë¥ </th>
                            <th>ì´ìˆ˜í˜„í™©</th>
                            <th>ìˆ˜ê°•ë¥ </th>
                            <th>ì´íƒˆìœ„í—˜ë„</th>
                            <th>ë§ˆê°ì¼</th>
                            <th>ìƒì„¸ë³´ê¸°</th>
                        </tr>
                    </thead>
                    <tbody id="surveyTableBody">
                        <!-- ì„¤ë¬¸ì¡°ì‚¬ ë°ì´í„° ë™ì  ìƒì„± -->
                    </tbody>
                </table>
            </div>
            <!-- Bulk action buttons -->
    <div class="bulk-action-area" style="display:flex; gap:10px; margin:16px 0 0 0;">
        <button class="btn btn-gray btn-sm" id="bulkDeleteBtn">ì„ íƒ ì‚­ì œ</button>
        <button class="btn btn-gray btn-sm" id="bulkDisableBtn">ì„ íƒí•œ ì„¤ë¬¸ ë¹„í™œì„±í™”</button>
       
    </div>

    <!-- ì„¤ë¬¸ ë¹ ë¥¸ ìƒíƒœë³€ê²½ ëª¨ë‹¬ -->
    <div id="surveyStatusChangeModal" class="status-change-modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ë¹ ë¥¸ ì„¤ë¬¸ ìƒíƒœë³€ê²½</h2>
                <button class="modal-close" onclick="closeSurveyStatusChangeModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="CurrentColor"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
                </button>
            </div>
            <div class="modal-body">
                <p>ì„ íƒí•œ ì„¤ë¬¸ë“¤ì˜ ì„¤ë¬¸ ìƒíƒœë¥¼ ë³€ê²½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                <div style="margin-top: 20px;">
                    <label for="newSurveyStatusSelect">ìƒˆ ì„¤ë¬¸ ìƒíƒœ:</label>
                    <select id="newSurveyStatusSelect" style="margin-left: 10px; padding: 6px 8px; border: 1px solid #ccc; border-radius: 6px;">
                        <option value="ì‘ë‹µì¤‘">ì‘ë‹µì¤‘</option>
                        <option value="ì‘ë‹µëŒ€ê¸°">ì‘ë‹µëŒ€ê¸°</option>
                        <option value="ë§ˆê°">ë§ˆê°</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="applySurveyStatusChange()">ì¼ê´„ ë³€ê²½</button>
            </div>
        </div>
    </div>
                
        </section>
    </main>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const btn = document.getElementById('addSurveyBtn');
        if (btn) {
            btn.addEventListener('click', function() {
                location.href = 'admin-attendance-survey-add.html';
            });
        }
    });
    </script>


    <script>
        const surveyData = [
            {
                name: '2026ë…„ 1ì°¨ ë§Œì¡±ë„ ì¡°ì‚¬',
                type: 'ë§Œì¡±ë„',
                session: '1ì°¨ì‹œ',
                reflect: 'O',
                required: 'í•„ìˆ˜',
                response: '92%',
                complete: '80% (24/30ëª…)',
                rate: '95%',
                risk: 'ë‚®ìŒ',
                status: 'í™œì„±í™”',
                surveyStatus: 'ì‘ë‹µì¤‘',
                deadline: '2026-02-15',
            },
            {
                name: '2026ë…„ 2ì°¨ ì‚¬ì „ì¡°ì‚¬',
                type: 'ì‚¬ì „',
                session: '2ì°¨ì‹œ',
                reflect: 'X',
                required: 'ì„ íƒ',
                response: '78%',
                complete: '60% (18/30ëª…)',
                rate: '88%',
                risk: 'ì¤‘ê°„',
                status: 'ë¹„í™œì„±í™”',
                surveyStatus: 'ë§ˆê°',
                deadline: '2026-03-01',
            },
            {
                name: '2026ë…„ 3ì°¨ í‡´ì†Œì¡°ì‚¬',
                type: 'í‡´ì†Œ',
                session: '3ì°¨ì‹œ',
                reflect: 'O',
                required: 'í•„ìˆ˜',
                response: '85%',
                complete: '90% (27/30ëª…)',
                rate: '97%',
                risk: 'ë†’ìŒ',
                status: 'í™œì„±í™”',
                surveyStatus: 'ì‘ë‹µëŒ€ê¸°',
                deadline: '2026-04-10',
            }
        ];

        function renderSurveyTable() {
            const tbody = document.getElementById('surveyTableBody');
            tbody.innerHTML = '';
            surveyData.forEach((row, idx) => {
                // ìƒíƒœëŠ” í™œì„±í™”/ë¹„í™œì„±í™”ë§Œ í‘œì‹œ
                const statusDisplay = row.status === 'ë¹„í™œì„±í™”' ? 'ë¹„í™œì„±í™”' : 'í™œì„±í™”';
                const deadlineDisplay = row.deadline ? `${row.deadline} (${row.surveyStatus || ''})` : (row.surveyStatus || '');
                tbody.innerHTML += `
                    <tr>
                        <td><input type="checkbox" class="survey-row-checkbox" data-idx="${idx}"></td>
                        <td>${statusDisplay}</td>
                        <td>${row.name}</td>
                        <td>${row.type}</td>
                        <td>${row.session}</td>
                        <td>${row.reflect}</td>
                        <td>${row.required}</td>
                        <td>${row.response}</td>
                        <td>${row.complete}</td>
                        <td>${row.rate}</td>
                        <td>${row.risk}</td>
                        <td>${deadlineDisplay}</td>
                        <td><button class="btn btn-secondary" type="button" onclick="location.href='admin-attendance-survey-add.html'">ìƒì„¸ë³´ê¸°</button></td>
                    </tr>
                `;
            });

            // ì „ì²´ì„ íƒ ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë™ê¸°í™”
            const checkAll = document.getElementById('surveyCheckAll');
            const rowCheckboxes = tbody.querySelectorAll('.survey-row-checkbox');
            if (checkAll) {
                checkAll.checked = false;
                checkAll.indeterminate = false;
                checkAll.addEventListener('change', function() {
                    rowCheckboxes.forEach(cb => { cb.checked = checkAll.checked; });
                });
            }
            // ê°œë³„ ì²´í¬ë°•ìŠ¤ ë³€ê²½ ì‹œ ì „ì²´ì„ íƒ ìƒíƒœ ë™ê¸°í™”
            rowCheckboxes.forEach(cb => {
                cb.addEventListener('change', function() {
                    const total = rowCheckboxes.length;
                    const checked = Array.from(rowCheckboxes).filter(c => c.checked).length;
                    if (checkAll) {
                        checkAll.checked = checked === total;
                        checkAll.indeterminate = checked > 0 && checked < total;
                    }
                });
            });
        }
        document.addEventListener('DOMContentLoaded', renderSurveyTable);
        // ë¹ ë¥¸ ì„ íƒ ê³¼ëª© ì¹´ë“œ ë°ì´í„° ì˜ˆì‹œ (DBì—ì„œ ë°›ì•„ì˜¨ë‹¤ê³  ê°€ì •)
        const courseCardData = [
            {
                courseId: 'course1',
                category: 'KDT',
                status: 'í™œì„±ì¤‘',
                title: 'í’€ìŠ¤íƒ ì›¹ ê°œë°œ (React & Node.js)',
                instructor: 'ê¹€ë¯¼ìˆ˜ ê°•ì‚¬',
                subjectCount: 12,
                totalHours: 120,
                studentCount: 45,
                running: true,
                period: '2026.01.02 ~ 2026.06.30',
                progress: 42
            },
            {
                courseId: 'course2',
                category: 'AI',
                status: 'ë¹„í™œì„±',
                title: 'AI ì—”ì§€ë‹ˆì–´ë§',
                instructor: 'ì´ìˆ˜ì§„ ê°•ì‚¬',
                subjectCount: 10,
                totalHours: 100,
                studentCount: 30,
                running: false,
                period: '2026.02.01 ~ 2026.07.15',
                progress: 65
            }
        ];

        function renderCourseCards() {
            const list = document.getElementById('quickCourseList');
            list.innerHTML = '';
            courseCardData.forEach(card => {
                const div = document.createElement('div');
                div.className = 'quick-course-card';
                div.innerHTML = `
                    <div class="course-top-section">
                        <span class="course-category badge-kdt">${card.category}</span>
                        <div class="toggle-status">
                            <span>${card.status}</span>
                        </div>
                    </div>
                    <div class="course-header">
                        <h3 class="course-title">${card.title}</h3>
                        <span class="instructor-name">${card.instructor}</span>
                    </div>
                    <div class="course-stats">
                        <div class="stat-box"><span class="stat-text">ê³¼ëª© <strong>${card.subjectCount}</strong>ê°œ</span></div>
                        <div class="divider-vertical"></div>
                        <div class="stat-box"><span class="stat-text">ì´ <strong>${card.totalHours}</strong>ì‹œê°„</span></div>
                        <div class="divider-vertical"></div>
                        <div class="stat-box"><span class="stat-text">ìˆ˜ê°•ìƒ <strong>${card.studentCount}</strong>ëª…</span></div>
                    </div>
                    <div class="course-progress-info">
                        <div class="progress-left">
                            <span class="status-badge ${card.running ? 'status-completed' : 'status-disabled'}">${card.running ? 'ìš´ì˜ì¤‘' : 'ì¢…ë£Œ'}</span>
                            <span class="progress-period">ğŸ“… ${card.period}</span>
                        </div>
                        <span class="progress-percentage">${card.progress}%</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: ${card.progress}%;"></div>
                    </div>
                `;
                // ì¹´ë“œ í´ë¦­ ì‹œ ê³¼ì • ì„ íƒ select ë³€ê²½
                div.addEventListener('click', () => {
                    const courseSelect = document.getElementById('courseSelect');
                    if (courseSelect) {
                        courseSelect.value = card.courseId;
                        // íŠ¸ë¦¬ê±°: ê³¼ì • ë³€ê²½ ì‹œ í•„ìš”í•œ í•¨ìˆ˜ í˜¸ì¶œ
                        updateSessionSelect();
                        renderNameTable();
                        renderSessionTable();
                        renderStatusTable();
                    }
                });
                list.appendChild(div);
            });
        }
        // ì •ë ¬ ìƒíƒœ ë³€ìˆ˜
        let sortKey = 'name';
        let sortAsc = true;

        // ì •ë ¬ ê¸°ì¤€/ìˆœì„œ UI ì´ë²¤íŠ¸
        document.addEventListener('DOMContentLoaded', () => {
            const sortSelect = document.getElementById('sortSelect');
            const sortOrderBtn = document.getElementById('sortOrderBtn');
            const sortOrderIcon = document.getElementById('sortOrderIcon');
            if (sortSelect && sortOrderBtn && sortOrderIcon) {
                sortSelect.addEventListener('change', () => {
                    sortKey = sortSelect.value;
                    renderNameTable();
                    renderSessionTable();
                    renderStatusTable();
                });
                sortOrderBtn.addEventListener('click', () => {
                    sortAsc = !sortAsc;
                    sortOrderIcon.textContent = sortAsc ? 'â–²' : 'â–¼';
                    renderNameTable();
                    renderSessionTable();
                    renderStatusTable();
                });
            }
        });

        function getSortedAttendanceData(courseId) {
            let data = (courseAttendanceData[courseId] || []).slice();
            if (sortKey === 'name') {
                data.sort((a, b) => sortAsc ? a.name.localeCompare(b.name) : b.name.localeCompare(a.name));
            } else if (sortKey === 'rate') {
                data.sort((a, b) => {
                    const aRate = parseInt(a.rate);
                    const bRate = parseInt(b.rate);
                    return sortAsc ? aRate - bRate : bRate - aRate;
                });
            } else if (sortKey === 'risk') {
                // ìœ„í—˜ë„: low < medium < high
                const riskOrder = { low: 0, medium: 1, high: 2 };
                data.sort((a, b) => sortAsc ? riskOrder[a.risk] - riskOrder[b.risk] : riskOrder[b.risk] - riskOrder[a.risk]);
            }
            return data;
        }

        document.getElementById('courseSelect').addEventListener('change', () => {
            updateSessionSelect();
        });

        document.addEventListener('DOMContentLoaded', () => {
            renderCourseCards();

        });
// ì„¤ë¬¸ ë¹ ë¥¸ ìƒíƒœë³€ê²½ ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
    function openSurveyStatusChangeModal() {
        const modal = document.getElementById('surveyStatusChangeModal');
        if (modal) modal.style.display = 'flex';
    }
    function closeSurveyStatusChangeModal() {
        const modal = document.getElementById('surveyStatusChangeModal');
        if (modal) modal.style.display = 'none';
    }

    // ì¼ê´„ ì„¤ë¬¸ ìƒíƒœë³€ê²½ ì ìš©
    function applySurveyStatusChange() {
        const newStatus = document.getElementById('newSurveyStatusSelect').value;
        const checkboxes = document.querySelectorAll('.survey-row-checkbox');
        checkboxes.forEach(cb => {
            if (cb.checked) {
                const idx = parseInt(cb.getAttribute('data-idx'));
                surveyData[idx].surveyStatus = newStatus;
            }
        });
        closeSurveyStatusChangeModal();
        renderSurveyTable();
    }

    // ë¹ ë¥¸ ìƒíƒœë³€ê²½ ë²„íŠ¼ í™œì„±í™”/ë¹„í™œì„±í™”
    function updateSurveyStatusChangeBtn() {
        const checkboxes = document.querySelectorAll('.survey-row-checkbox');
        const anyChecked = Array.from(checkboxes).some(cb => cb.checked);
        const btn = document.getElementById('surveyStatusChangeBtn');
        if (btn) btn.disabled = !anyChecked;
    }

    // ì „ì²´ì„ íƒ/ê°œë³„ì„ íƒ ì´ë²¤íŠ¸ì— ë²„íŠ¼ í™œì„±í™” ì—°ê²°
    document.addEventListener('DOMContentLoaded', () => {
        document.body.addEventListener('change', function(e) {
            if (e.target.classList.contains('survey-row-checkbox') || e.target.id === 'surveyCheckAll') {
                updateSurveyStatusChangeBtn();
            }
        });
        // ë¹ ë¥¸ ìƒíƒœë³€ê²½ ë²„íŠ¼ ì´ë²¤íŠ¸
        const btn = document.getElementById('surveyStatusChangeBtn');
        if (btn) btn.onclick = openSurveyStatusChangeModal;
        updateSurveyStatusChangeBtn();
    });
        
    </script>
</body>
</html>